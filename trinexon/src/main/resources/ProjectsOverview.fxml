<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane prefHeight="900" prefWidth="1280"
            xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="System.trinexon.ProjectsOverviewController"
            stylesheets="@css/ai-theme.css">

    <!-- Top toolbar -->
    <top>
        <ToolBar fx:id="toolbar" styleClass="tool-bar">
            <HBox alignment="CENTER_LEFT" spacing="10">
                <padding>
                    <Insets top="5" right="5" bottom="5" left="5"/>
                </padding>
                <Label text="ðŸ¤– ProjektkezelÅ‘" styleClass="title"/>
                <Region HBox.hgrow="ALWAYS"/>

                <!-- KeresÃ©s mezÅ‘ + gomb -->
                <TextField fx:id="searchField"
                           promptText="KeresÃ©s projektek kÃ¶zÃ¶ttâ€¦"
                           styleClass="text-field"/>
                <Button fx:id="btnSearch"
                        onAction="#handleSearch"
                        text="KeresÃ©s"
                        styleClass="button"/>

                <!-- Ãšj projekt hozzÃ¡adÃ¡sa eltÃ¡volÃ­tva -->
            </HBox>
        </ToolBar>
    </top>

    <!-- Center content -->
    <center>
        <SplitPane dividerPositions="0.55">
            <!-- TableView -->
            <TableView fx:id="projectsTable" styleClass="table-view">
                <columns>
                    <TableColumn fx:id="nameColumn"      prefWidth="200" text="NÃ©v"/>
                    <TableColumn fx:id="descriptionColumn" prefWidth="200" text="LeÃ­rÃ¡s"/>
                    <TableColumn fx:id="startDateColumn" prefWidth="120" text="KezdÃ©s dÃ¡tuma"/>
                    <TableColumn fx:id="endDateColumn"   prefWidth="120" text="BefejezÃ©s dÃ¡tuma"/>
                    <TableColumn fx:id="statusColumn"    prefWidth="120" text="Ãllapot"/>
                    <TableColumn fx:id="managerColumn"   prefWidth="140" text="ProjektvezetÅ‘"/>
                    <TableColumn fx:id="budgetColumn"    prefWidth="100" text="KÃ¶ltsÃ©gvetÃ©s"/>
                    <TableColumn fx:id="categoryColumn"  prefWidth="120" text="KategÃ³ria"/>
                    <TableColumn fx:id="actionsColumn"   prefWidth="160" text="MÅ±veletek"/>
                </columns>
            </TableView>

            <!-- Detail panel -->
            <VBox spacing="15" styleClass="detail-section">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>

                <Label text="ðŸ§  Projekt rÃ©szletek" styleClass="highlight-label"/>

                <GridPane hgap="10" vgap="10" styleClass="detail-grid">
                    <!-- NÃ©v -->
                    <Label text="NÃ©v:"                  GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <TextField fx:id="detailName"       GridPane.columnIndex="1" GridPane.rowIndex="0" styleClass="text-field"/>

                    <!-- LeÃ­rÃ¡s -->
                    <Label text="LeÃ­rÃ¡s:"               GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <TextArea fx:id="detailDescription" prefRowCount="4" wrapText="true"
                              GridPane.columnIndex="1" GridPane.rowIndex="1" styleClass="description-area"/>

                    <!-- KezdÃ©s dÃ¡tuma -->
                    <Label text="KezdÃ©s dÃ¡tuma:"        GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    <DatePicker fx:id="detailStartDate" GridPane.columnIndex="1" GridPane.rowIndex="2" styleClass="text-field"/>

                    <!-- BefejezÃ©s dÃ¡tuma -->
                    <Label text="BefejezÃ©s dÃ¡tuma:"      GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                    <DatePicker fx:id="detailEndDate"   GridPane.columnIndex="1" GridPane.rowIndex="3" styleClass="text-field"/>

                    <!-- Ãllapot -->
                    <Label text="Ãllapot:"              GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                    <ComboBox fx:id="detailStatus"      prefWidth="150" GridPane.columnIndex="1" GridPane.rowIndex="4" styleClass="text-field"/>

                    <!-- ProjektvezetÅ‘ -->
                    <Label text="ProjektvezetÅ‘:"        GridPane.columnIndex="0" GridPane.rowIndex="5"/>
                    <TextField fx:id="detailManager"    GridPane.columnIndex="1" GridPane.rowIndex="5" styleClass="text-field"/>

                    <!-- KategÃ³ria -->
                    <Label text="KategÃ³ria:"            GridPane.columnIndex="0" GridPane.rowIndex="6"/>
                    <ComboBox fx:id="detailCategory"    prefWidth="150" GridPane.columnIndex="1" GridPane.rowIndex="6" styleClass="text-field"/>

                    <!-- KÃ¶ltsÃ©gvetÃ©s -->
                    <Label text="KÃ¶ltsÃ©gvetÃ©s:"         GridPane.columnIndex="0" GridPane.rowIndex="7"/>
                    <TextField fx:id="detailBudget"     GridPane.columnIndex="1" GridPane.rowIndex="7" styleClass="text-field"/>
                </GridPane>

                <!-- MentÃ©s / TÃ¶rlÃ©s gombok -->
                <HBox alignment="CENTER_RIGHT" spacing="20">
                    <padding>
                        <Insets top="10"/>
                    </padding>
                    <Button fx:id="btnSaveProject"
                            onAction="#handleUpsertProject"
                            text="MentÃ©s"
                            styleClass="primary-button"/>
                    <Button fx:id="btnDeleteProject"
                            onAction="#handleDeleteProject"
                            text="TÃ¶rlÃ©s"
                            styleClass="button danger"/>
                </HBox>
            </VBox>
        </SplitPane>
    </center>

    <!-- Bottom bar -->
    <bottom>
        <HBox alignment="CENTER_LEFT" spacing="20" styleClass="bottom-bar">
            <padding>
                <Insets top="5" right="10" bottom="5" left="10"/>
            </padding>
            <Label fx:id="statusLabel" text="KÃ©szen Ã¡llâ€¦"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Label fx:id="totalProjectsLabel" text="Ã–sszes projekt: 0"/>
        </HBox>
    </bottom>

</BorderPane>